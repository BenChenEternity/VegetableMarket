(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d237d34"],{fd88:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-form",{ref:"queryParamsForm",attrs:{model:e.queryParams,inline:""}},[a("el-form-item",{attrs:{label:"昵称"}},[a("el-input",{model:{value:e.queryParams.nickname,callback:function(t){e.$set(e.queryParams,"nickname",t)},expression:"queryParams.nickname"}})],1),a("el-form-item",{attrs:{label:"性别"}},[a("el-input",{model:{value:e.queryParams.gender,callback:function(t){e.$set(e.queryParams,"gender",t)},expression:"queryParams.gender"}})],1),a("el-form-item",{attrs:{label:"等级"}},[a("el-input",{attrs:{type:"number"},model:{value:e.queryParams.level,callback:function(t){e.$set(e.queryParams,"level",t)},expression:"queryParams.level"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("增加")])],1)],1),a("el-dialog",{attrs:{title:"增加用户",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"userForm",attrs:{model:e.user,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"昵称",prop:"nickname"}},[a("el-input",{attrs:{placeholder:"请输入昵称"},model:{value:e.user.nickname,callback:function(t){e.$set(e.user,"nickname",t)},expression:"user.nickname"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),a("el-form-item",{attrs:{label:"性别",prop:"gender"}},[a("el-radio-group",{model:{value:e.user.gender,callback:function(t){e.$set(e.user,"gender",t)},expression:"user.gender"}},[a("el-radio",{attrs:{label:"男"}},[e._v("男")]),a("el-radio",{attrs:{label:"女"}},[e._v("女")])],1)],1),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),a("el-form-item",{attrs:{label:"头像",prop:"avatar"}},[a("el-input",{attrs:{placeholder:"请输入头像URL"},model:{value:e.user.avatar,callback:function(t){e.$set(e.user,"avatar",t)},expression:"user.avatar"}})],1),a("el-form-item",{attrs:{label:"电话号码",prop:"phoneNumber"}},[a("el-input",{attrs:{placeholder:"请输入电话号码"},model:{value:e.user.phoneNumber,callback:function(t){e.$set(e.user,"phoneNumber",t)},expression:"user.phoneNumber"}})],1),a("el-form-item",{attrs:{label:"生日",prop:"birthday"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:e.user.birthday,callback:function(t){e.$set(e.user,"birthday",t)},expression:"user.birthday"}})],1),a("el-form-item",{attrs:{label:"等级",prop:"level"}},[a("el-input",{attrs:{type:"number",placeholder:"请输入等级"},model:{value:e.user.level,callback:function(t){e.$set(e.user,"level",t)},expression:"user.level"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("确 定")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{align:"center",label:"ID",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.id)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"昵称",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.nickname)+" ")]}}])}),a("el-table-column",{attrs:{label:"头像",width:"60"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("img",{staticStyle:{width:"40px",height:"40px","border-radius":"50%"},attrs:{src:e.row.avatar,alt:"Avatar"}})]}}])}),a("el-table-column",{attrs:{label:"性别",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.gender?"男":"女")+" ")]}}])}),a("el-table-column",{attrs:{label:"邮箱",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.email)+" ")]}}])}),a("el-table-column",{attrs:{label:"电话号码",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.phoneNumber)+" ")]}}])}),a("el-table-column",{attrs:{label:"生日",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.birthday)+" ")]}}])}),a("el-table-column",{attrs:{label:"等级",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.level)+" ")]}}])}),a("el-table-column",{attrs:{label:"删除",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"danger"},on:{click:function(a){return e.deleteUser(t.row.id)}}},[a("i",{staticClass:"el-icon-close"})])]}}])})],1),a("div",{staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.currentPage4,"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},r=[],s=a("5530"),n=(a("d3b7"),a("a78e")),i=a.n(n),o=a("bc3a"),u=a.n(o),c={filters:{statusFilter:function(e){var t={published:"success",draft:"gray",deleted:"danger"};return t[e]}},data:function(){return{list:null,listLoading:!0,total:0,currentPage:1,pageSize:10,queryParams:{nickname:null,gender:null,level:null,currentPage:null,pageSize:null},dialogVisible:!1,user:{nickname:"",password:"",gender:"",email:"",avatar:"",phoneNumber:"",birthday:"",level:null}}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.listLoading=!0;var t="https://ajie.cool/api/user",a=i.a.get("userId"),l=i.a.get("token"),r={"user-id":a,"session-token":l},n={currentPage:this.currentPage,pageSize:this.pageSize},o=Object(s["a"])({},this.queryParams);u.a.post(t,o,{headers:r,params:n}).then((function(t){e.list=t.data.list,e.total=t.data.total})).catch((function(e){console.error("Error fetching data:",e)})).finally((function(){e.listLoading=!1}))},search:function(){this.currentPage=1,this.pageSize=10,this.fetchData()},deleteUser:function(e){var t=this;console.log(e),this.listLoading=!0;var a="https://ajie.cool/api/user/delete",l=i.a.get("userId"),r=i.a.get("token"),s={"user-id":l,"session-token":r},n={id:e};u.a.post(a,n,{headers:s}).then((function(e){t.$message.success(e.data)})).catch((function(e){t.$message.error(e),console.log(e)})).finally((function(){t.listLoading=!1,t.fetchData()}))},handleSizeChange:function(e){console.log("size",e),this.pageSize=e,this.fetchData()},handleCurrentChange:function(e){console.log("current",e),this.currentPage=e,this.fetchData()},handleClose:function(e){e()},handleSubmit:function(){var e=this;if(this.user.nickname&&this.user.password&&null!==this.user.level){var t={nickname:this.user.nickname,password:this.user.password,gender:"女"!==this.user.gender,email:this.user.email,avatar:this.user.avatar,phoneNumber:this.user.phoneNumber,birthday:this.user.birthday,level:this.user.level};console.log(t);var a=i.a.get("userId"),l=i.a.get("token"),r={"user-id":a,"session-token":l};u.a.post("https://ajie.cool/api/user/insert",t,{headers:r}).then((function(t){console.log(t),e.$message.success("用户添加成功"),e.dialogVisible=!1,e.fetchData()})).catch((function(t){e.$message.error("用户添加失败"),console.error(t)}))}else this.$message.error("昵称、密码、等级不能为空")}}},d=c,p=a("2877"),m=Object(p["a"])(d,l,r,!1,null,null,null);t["default"]=m.exports}}]);